<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>麻神之路 - 麻將聽牌練習遊戲</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div id="app">
        <!-- 首頁/開始畫面 -->
        <div id="home-screen" class="screen active">
            <h1>麻神之路</h1>
            <p>提升您的麻將聽牌能力</p>
            
            <div class="player-input">
                <label for="player-name">請輸入玩家名稱：</label>
                <input type="text" id="player-name" placeholder="輸入您的名稱" maxlength="12">
            </div>
            
            <div class="difficulty-selector">
                <label for="difficulty">選擇難度：</label>
                <select id="difficulty">
                    <option value="beginner">初級</option>
                    <option value="intermediate">中級</option>
                    <option value="advanced">高級</option>
                </select>
            </div>
            
            <button id="start-btn" class="btn">開始遊戲</button>
            
            <div class="rules">
                <h3>遊戲規則</h3>
                <p>初級：從5個選項中選擇1個正確答案，每題100分，時間限制60秒</p>
                <p>中級：從所有麻將牌中選擇1個正確答案，每題200分，時間限制45秒</p>
                <p>高級：從所有麻將牌中選擇多個正確答案，每個正確答案100分，時間限制30秒</p>
                <p>答對可獲得加時獎勵：前10題每題+10秒，之後每題+5秒</p>
                <p>注意：本遊戲使用香港麻將規則，14張牌為胡牌</p>
            </div>
        </div>

        <!-- 選擇難度畫面 -->
        <div id="difficulty-screen" class="screen">
            <h2>選擇難度</h2>
            <div class="difficulty-options">
                <div class="difficulty-card" data-difficulty="easy">
                    <h3>初級</h3>
                    <p>簡單的聽牌型態，從5個選項中選1個正確答案，限時60秒</p>
                    <p>每題100分</p>
                </div>
                <div class="difficulty-card" data-difficulty="medium">
                    <h3>中級</h3>
                    <p>中等難度牌型，從所有麻將牌中選1個正確答案，限時45秒</p>
                    <p>每題200分</p>
                </div>
                <div class="difficulty-card" data-difficulty="hard">
                    <h3>高級</h3>
                    <p>複雜牌型，可能有多個正確答案，從所有麻將牌中作答，限時30秒</p>
                    <p>每個正確答案100分</p>
                </div>
            </div>
            <button id="back-from-difficulty" class="btn back-btn">返回</button>
        </div>

        <!-- 遊戲畫面 -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div class="game-info">
                    <div class="timer-container">
                        <span>時間：</span>
                        <span id="timer">0</span>
                        <span>秒</span>
                    </div>
                    <div class="score-container">
                        <span>分數：</span>
                        <span id="score">0</span>
                    </div>
                </div>
            </div>
            
            <div id="hand-container" class="hand-container"></div>
            
            <div id="feedback-message" class="feedback" style="display: none;"></div>
            
            <div id="options-container" class="options-container"></div>
            
            <button id="confirm-btn" class="btn" style="display: none;">確認答案</button>
        </div>

        <!-- 結果畫面 -->
        <div id="result-screen" class="screen">
            <h2>遊戲結束</h2>
            <div class="result-summary">
                <p>難度: <span id="result-difficulty"></span></p>
                <p>分數: <span id="result-score"></span></p>
                <p>正確率: <span id="result-accuracy"></span>%</p>
                <p>用時: <span id="result-time"></span></p>
            </div>
            <div class="result-actions">
                <button id="play-again" class="btn primary-btn">再玩一次</button>
                <button id="back-to-home" class="btn secondary-btn">返回首頁</button>
            </div>
        </div>

        <!-- 排行榜畫面 -->
        <div id="ranking-screen" class="screen">
            <h2>排行榜</h2>
            <div class="ranking-tabs">
                <button class="tab-btn active" data-tab="easy">初級</button>
                <button class="tab-btn" data-tab="medium">中級</button>
                <button class="tab-btn" data-tab="hard">高級</button>
            </div>
            <div class="ranking-list" id="ranking-list">
                <!-- 排行榜項目將由JavaScript動態生成 -->
            </div>
            <button id="back-from-ranking" class="btn back-btn">返回</button>
        </div>

        <!-- 遊戲說明畫面 -->
        <div id="help-screen" class="screen">
            <h2>遊戲說明</h2>
            <div class="help-content">
                <h3>什麼是聽牌？</h3>
                <p>在麻將中，聽牌指的是只差一張特定的牌就可以和牌的狀態。本遊戲幫助你練習識別不同牌型的聽牌情況。</p>
                
                <h3>如何玩</h3>
                <ul>
                    <li>系統會顯示一組麻將牌</li>
                    <li>根據現有的牌，判斷還差哪一張牌可以聽牌</li>
                    <li>從選項中選擇正確的牌</li>
                </ul>
                
                <h3>難度說明</h3>
                <ul>
                    <li><strong>初級</strong>：從5個選項中選擇1個正確答案，每題100分</li>
                    <li><strong>中級</strong>：從所有麻將牌中選擇1個正確答案，每題200分</li>
                    <li><strong>高級</strong>：從所有麻將牌中選擇，可能有多個正確答案，每個正確答案100分</li>
                </ul>
                
                <h3>分數計算</h3>
                <p>基礎分數 + 剩餘時間獎勵 = 最終分數</p>
                <p>剩餘時間獎勵：初級每秒2分，中級每秒3分，高級每秒5分</p>
            </div>
            <button id="back-from-help" class="btn back-btn">返回</button>
        </div>

        <!-- 通知提示 -->
        <div id="notification" class="notification">
            <span id="notification-message"></span>
        </div>
    </div>

    <script src="scripts/tiles.js"></script>
    <script src="scripts/game.js"></script>
    <script src="scripts/ui.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html> 