<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>麻神之路 - 麻將聽牌練習遊戲</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- 開始畫面 -->
        <div id="start-screen" class="screen">
            <h1>麻神之路</h1>
            <p>提升您的麻將聽牌能力</p>
            
            <div class="player-input">
                <label for="player-name">請輸入玩家名稱：</label>
                <input type="text" id="player-name" placeholder="輸入您的名稱" maxlength="12" required>
                <p id="name-error" class="error-message" style="display: none; color: red; font-size: 14px;">請輸入玩家名稱</p>
            </div>
            
            <div class="difficulty-selector">
                <label for="difficulty">選擇難度：</label>
                <select id="difficulty">
                    <option value="beginner">初級</option>
                    <option value="intermediate">中級</option>
                    <option value="advanced">高級</option>
                </select>
            </div>
            
            <button id="start-btn" class="btn">開始遊戲</button>
            
            <div class="rules">
                <h3>遊戲規則</h3>
                <p>初級：從5個選項中選擇1個正確答案，每題100分，時間限制60秒</p>
                <p>中級：從所有麻將牌中選擇1個正確答案，每題200分，時間限制60秒</p>
                <p>高級：從所有麻將牌中選擇多個正確答案，每個正確答案100分，時間限制60秒</p>
                <p>答對可獲得加時獎勵：前10題每題+10秒，之後每題+5秒</p>
                <p>注意：本遊戲使用香港麻將規則，14張牌為胡牌</p>
            </div>
            
            <!-- 首頁排行榜 -->
            <div class="leaderboard-container start-leaderboard">
                <h3>排行榜</h3>
                <div class="leaderboard-header">
                    <span class="rank">排名</span>
                    <span class="player">玩家</span>
                    <span class="score">分數</span>
                    <span class="difficulty">難度</span>
                    <span class="date">日期</span>
                </div>
                <div id="start-leaderboard" class="leaderboard"></div>
            </div>
        </div>
        
        <!-- 遊戲畫面 -->
        <div id="game-screen" class="screen" style="display: none;">
            <div class="game-header">
                <div class="game-info">
                    <div class="timer-container">
                        <span>時間：</span>
                        <span id="timer">0</span>
                        <span>秒</span>
                    </div>
                    <div class="score-container">
                        <span>分數：</span>
                        <span id="score">0</span>
                    </div>
                </div>
            </div>
            
            <div id="hand-container" class="hand-container"></div>
            
            <div id="feedback-message" class="feedback" style="display: none;"></div>
            
            <div id="options-container" class="options-container"></div>
            
            <button id="confirm-btn" class="btn" style="display: none;">確認答案</button>
        </div>
        
        <!-- 遊戲結束畫面 -->
        <div id="game-over-screen" class="screen" style="display: none;">
            <h2>遊戲結束</h2>
            
            <div class="final-score">
                <p>你的分數：<span id="final-score">0</span></p>
            </div>
            
            <div class="leaderboard-container">
                <h3>排行榜</h3>
                <div class="leaderboard-header">
                    <span class="rank">排名</span>
                    <span class="player">玩家</span>
                    <span class="score">分數</span>
                    <span class="difficulty">難度</span>
                    <span class="date">日期</span>
                </div>
                <div id="leaderboard" class="leaderboard"></div>
            </div>
            
            <button id="play-again-btn" class="btn">再玩一次</button>
        </div>
    </div>
    
    <!-- 音樂和音效 -->
    <audio id="bg-music" preload="auto">
        <!-- 背景音樂將由JavaScript動態載入 -->
    </audio>
    
    <audio id="correct-sound" preload="auto">
        <source src="sounds/correct.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="wrong-sound" preload="auto">
        <source src="sounds/wrong.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="game-over-sound" preload="auto">
        <source src="sounds/game-over.mp3" type="audio/mpeg">
    </audio>
    
    <script src="scripts/tiles.js"></script>
    <script src="scripts/game.js"></script>
    <script src="scripts/ui.js"></script>
    <script src="scripts/main.js"></script>
    
    <script>
        // 動態載入背景音樂
        function loadBackgroundMusic(url) {
            const bgMusic = document.getElementById('bg-music');
            if (bgMusic) {
                bgMusic.src = url;
            }
        }
        
        // 初始化聲音控制
        document.addEventListener('DOMContentLoaded', function() {
            // 預設背景音樂位置
            loadBackgroundMusic('sounds/background.mp3');
        });
    </script>
</body>
</html> 